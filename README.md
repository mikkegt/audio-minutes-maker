# ğŸ™ï¸ Audio Minutes Maker
éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆMP3ï¼‰ã‚’åˆ†å‰²ã—ã€Whisperã‚’ä½¿ç”¨ã—ã¦æ–‡å­—èµ·ã“ã—ã‚’è¡Œã†ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

## âœ¨ æ©Ÿèƒ½
- ğŸ”ª MP3ãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†å‰²ï¼ˆæŒ‡å®šã—ãŸæ™‚é–“é–“éš”ã§åˆ†å‰²ï¼‰
- ğŸ“ Whisperã‚’ä½¿ç”¨ã—ãŸæ–‡å­—èµ·ã“ã—
- âœ‚ï¸ æ–‡å­—èµ·ã“ã—ãƒ†ã‚­ã‚¹ãƒˆã®æ•´å½¢ï¼ˆãƒ•ã‚£ãƒ©ãƒ¼é™¤å»ã€é‡è¤‡é™¤å»ãªã©ï¼‰

## ğŸ› ï¸ ç’°å¢ƒæ§‹ç¯‰

### ğŸ“‹ å¿…è¦ãªã‚‚ã®
- Python 3.11ä»¥ä¸Š
- Homebrew (macOS)

### ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

1. ğŸ¯ ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone git@github.com:mikkegt/audio-minutes-maker.git
cd audio-minutes-maker
```

2. ğŸ Pythonä»®æƒ³ç’°å¢ƒã®ä½œæˆã¨æœ‰åŠ¹åŒ–
```bash
python3.11 -m venv venv
source venv/bin/activate
```

3. ğŸ“¦ å¿…è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
pip install pydub openai-whisper torch ffmpeg-python
```

4. ğŸµ ffmpegã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆmacOSï¼‰

ç¾åœ¨ã®ç’°å¢ƒã‚’ç¢ºèª:
```bash
arch
````
arm64ã®å ´åˆ:
```bash
brew install ffmpeg
```
i386 ã®å ´åˆï¼ˆRosetta2ã®å ´åˆï¼‰ï¼š
```bash
arch -arm64 zsh
brew install ffmpeg
```
âš ï¸ ï¼šM1/M2 Macã§ã¯ã€ARM64ãƒã‚¤ãƒ†ã‚£ãƒ–ç’°å¢ƒã§ã®å®Ÿè¡Œã‚’æ¨å¥¨ã—ã¾ã™ã€‚

## ğŸ¯ ä½¿ç”¨æ–¹æ³•
1. ğŸ“ å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã®æº–å‚™
- å‡¦ç†ã—ãŸã„MP3ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®
- split_mp3.py ã®ä»¥ä¸‹ã®éƒ¨åˆ†ã‚’å®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«åã«å¤‰æ›´ï¼š
```python
if __name__ == "__main__":
    input_file = "your_audio_file.mp3"  # ã“ã“ã‚’å®Ÿéš›ã®ãƒ•ã‚¡ã‚¤ãƒ«åã«å¤‰æ›´
    output_dir = "split_audio"
    split_mp3(input_file, output_dir, chunk_minutes=5)
```

2. âœ‚ï¸ MP3ãƒ•ã‚¡ã‚¤ãƒ«ã®åˆ†å‰²
```bash
python split_mp3.py
```
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯5åˆ†é–“éš”ã§åˆ†å‰²
- åˆ†å‰²ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯ `split_audio` ãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜ã•ã‚Œã¾ã™

4. ğŸ¯ æ–‡å­—èµ·ã“ã—
```bash
python transcribe.py
```
- åˆ†å‰²ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’é †æ¬¡å‡¦ç†
- æ–‡å­—èµ·ã“ã—çµæœã¯ `transcripts` ãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜ã•ã‚Œã¾ã™

5. ğŸ“ ãƒ†ã‚­ã‚¹ãƒˆã®æ•´å½¢
```bash
python clean_transcript.py
```
- åˆ†å‰²ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’çµ±åˆ
- æ–‡å­—èµ·ã“ã—ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã‚’æ•´å½¢
- ãƒ•ã‚£ãƒ©ãƒ¼ã‚„é‡è¤‡ã‚’é™¤å»
- çµæœã¯ `cleaned_transcript.txt` ã«ä¿å­˜

## âš™ï¸ è¨­å®šã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### ğŸ•’ åˆ†å‰²æ™‚é–“ã®å¤‰æ›´
`split_mp3.py` ã®ä»¥ä¸‹ã®éƒ¨åˆ†ã‚’ä¿®æ­£:
```python
split_mp3(input_file, output_dir, chunk_minutes=5)  # 5ã‚’å¸Œæœ›ã®åˆ†æ•°ã«å¤‰æ›´
```

### ğŸ”§ Whisperãƒ¢ãƒ‡ãƒ«ã®å¤‰æ›´
`transcribe.py` ã®ä»¥ä¸‹ã®éƒ¨åˆ†ã‚’ä¿®æ­£:
```python
transcribe_audio(input_dir, output_dir, model_name="medium")  # ãƒ¢ãƒ‡ãƒ«åã‚’å¤‰æ›´
```
åˆ©ç”¨å¯èƒ½ãªãƒ¢ãƒ‡ãƒ«: "tiny", "base", "small", "medium", "large"

## ğŸ§¹ ç’°å¢ƒã®ç ´æ£„

1. ä»®æƒ³ç’°å¢ƒã®çµ‚äº†
```bash
deactivate
```

2. ä»®æƒ³ç’°å¢ƒã®å‰Šé™¤
```bash
rm -rf venv
```

3. ffmpegã®ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆå¿…è¦ãªå ´åˆï¼‰
```bash
arch -arm64 brew uninstall ffmpeg # Rosetta2ã§å‹•ã„ã¦ãŸã‚‰
# ã¾ãŸã¯
brew uninstall ffmpeg
```

## âš ï¸ æ³¨æ„äº‹é …
- å‡¦ç†æ™‚é–“ã¯éŸ³å£°ã®é•·ã•ã‚„ãƒ¢ãƒ‡ãƒ«ã‚µã‚¤ã‚ºã«ã‚ˆã£ã¦å¤‰å‹•ã—ã¾ã™
- large ãƒ¢ãƒ‡ãƒ«ã¯é«˜ç²¾åº¦ã§ã™ãŒã€ã‚ˆã‚Šå¤šãã®ãƒªã‚½ãƒ¼ã‚¹ã¨æ™‚é–“ã‚’å¿…è¦ã¨ã—ã¾ã™
